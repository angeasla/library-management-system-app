"use strict";(self.webpackChunklibrary_management_system=self.webpackChunklibrary_management_system||[]).push([[488],{488:(R,f,l)=>{l.r(f),l.d(f,{UserModule:()=>H});var h=l(3403),d=l(6814),A=l(9862),a=l(6223),g=l(7707),c=l(7700),e=l(9468),p=l(9372);let U=(()=>{class s{constructor(t,r,o,n,u,_,m){this.userService=t,this.route=r,this.router=o,this.fb=n,this.snackBar=u,this.dialogRef=_,this.data=m,this.userId=null,this.user=null,this.userId=m.userId,this.userForm=this.fb.group({firstname:["",a.kI.required],lastname:["",a.kI.required],email:["",a.kI.required],phone:["",a.kI.required]})}ngOnInit(){this.userId&&this.userService.getUserById(this.userId).subscribe(t=>{this.userForm.patchValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone})})}updateUser(){if(this.userForm.valid&&this.userId){const t={...this.userForm.value};this.userService.updateUser(this.userId,t).subscribe(()=>{this.snackBar.open("User updated successfully!","",{duration:2e3}),this.router.navigate(["/user/users-list"]),this.dialogRef.close()})}}onCancelClick(){this.dialogRef.close()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.K),e.Y36(h.gz),e.Y36(h.F0),e.Y36(a.qu),e.Y36(g.ux),e.Y36(c.so),e.Y36(c.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-update"]],decls:28,vars:3,consts:[[1,"container","p-4","mat-dialog-content"],[1,"nav","nav-underline"],[1,"nav-item"],[1,"nav-link","active"],[3,"formGroup","ngSubmit"],[1,"mb-3","form-group"],["for","firstname",1,"form-label","fw-bold"],["id","firstname","type","text","formControlName","firstname","name","firstname","required","",1,"form-control"],["for","lastname",1,"form-label","fw-bold"],["id","lastname","type","text","formControlName","lastname","name","lastname","required","",1,"form-control"],["for","email",1,"form-label","fw-bold"],["id","email","type","text","formControlName","email","name","email","required","",1,"form-control"],["for","phone",1,"form-label","fw-bold"],["id","phone","type","text","formControlName","phone","name","phone","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary","ms-3",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4),e.qZA()()(),e._UZ(5,"hr"),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return r.updateUser()}),e.TgZ(7,"div",5)(8,"label",6),e._uU(9,"Name:"),e.qZA(),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"div",5)(12,"label",8),e._uU(13,"Surname:"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"div",5)(16,"label",10),e._uU(17,"e-mail:"),e.qZA(),e._UZ(18,"input",11),e.qZA(),e.TgZ(19,"div",5)(20,"label",12),e._uU(21,"Phone:"),e.qZA(),e._UZ(22,"input",13),e.qZA(),e.TgZ(23,"div",5)(24,"button",14),e._uU(25,"Update User"),e.qZA(),e.TgZ(26,"button",15),e.NdJ("click",function(){return r.onCancelClick()}),e._uU(27,"Cancel"),e.qZA()()()()),2&t&&(e.xp6(4),e.AsE("Update User: ",r.userForm.value.firstname," ",r.userForm.value.lastname,""),e.xp6(2),e.Q6J("formGroup",r.userForm))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height:95vh;overflow-y:auto}"]}),s})(),v=(()=>{class s{constructor(t,r,o,n){this.userService=t,this.snackBar=r,this.dialogRef=o,this.router=n,this.users=[],this.userId=null,this.userForm=new a.cw({firstname:new a.NI(""),lastname:new a.NI("",a.kI.required),email:new a.NI(""),phone:new a.NI("",a.kI.required)})}onSubmit(){this.userForm.valid&&this.userService.createUser(this.userForm.value).subscribe(t=>{this.users.push(t),this.snackBar.open("User created successfully!","",{duration:4e3}),this.dialogRef.close()})}onCancelClick(){this.dialogRef.close()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.K),e.Y36(g.ux),e.Y36(c.so),e.Y36(h.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-insert"]],decls:25,vars:1,consts:[[1,"container","p-4","mat-dialog-content"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","firstname",1,"form-label"],["id","firstname","type","text","formControlName","firstname",1,"form-control"],["for","lastname",1,"form-label"],["id","lastname","type","text","formControlName","lastname",1,"form-control"],["for","email",1,"form-label"],["id","email","type","text","formControlName","email",1,"form-control"],["for","phone",1,"form-label"],["id","phone","type","text","formControlName","phone",1,"form-control"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-secondary","ms-3",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Create User"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Name:"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div",2)(9,"label",5),e._uU(10,"Surname:"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"div",2)(13,"label",7),e._uU(14,"e-mail:"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"div",2)(17,"label",9),e._uU(18,"Phone number:"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",2)(21,"button",11),e._uU(22,"Create User"),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return r.onCancelClick()}),e._uU(24,"Cancel"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",r.userForm))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height:95vh;overflow-y:auto}"]}),s})();var Z=l(9315),b=l(813),y=l(405),T=l(6739);function w(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"app-return-book",9),e.NdJ("bookReturned",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadActiveBorrows())}),e.qZA()()()}if(2&s){const t=i.$implicit;e.xp6(2),e.Oqu(t.bookTitle),e.xp6(2),e.Oqu(t.borrow.borrowDate),e.xp6(2),e.Q6J("userId",t.borrow.id.userId)("bookId",t.borrow.id.bookId)}}let C=(()=>{class s{constructor(t,r,o,n,u,_,m){this.borrowService=t,this.userService=r,this.bookService=o,this.datePipe=n,this.cdr=u,this.dialogRef=_,this.data=m,this.borrows=[],this.bookDetailsArray=[],this.activeBorrows=[]}ngOnInit(){this.userId=this.data.userId,this.loadUserDetails(),this.loadActiveBorrows()}loadUserDetails(){void 0!==this.userId&&this.userService.getUserById(this.userId).subscribe(t=>{this.userFirstname=t.firstname,this.userLastname=t.lastname})}loadActiveBorrows(){console.log("UserId:",this.userId),void 0!==this.userId&&this.borrowService.getActiveBorrowsByUserId(this.userId).subscribe(t=>{console.log("Borrows:",t),this.borrows=[],this.activeBorrows=[],this.cdr.detectChanges(),this.borrows=t;let r=t.map(o=>this.bookService.getBookById(o.id.bookId));(0,Z.D)(r).subscribe(o=>{this.bookDetailsArray=o,this.activeBorrows=[...this.borrows.map((n,u)=>({borrow:{...n,borrowDate:this.datePipe.transform(n.borrowDate,"dd/MM/yyyy")||n.borrowDate,returnDate:n.returnDate?this.datePipe.transform(n.returnDate,"dd/MM/yyyy"):null},bookTitle:this.bookDetailsArray[u]?.title||"Unknown title"}))],0===this.activeBorrows.length&&(console.log("Redirecting because active borrows is empty"),this.dialogRef.close())})})}onCancelClick(){this.dialogRef.close()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(b.c),e.Y36(p.K),e.Y36(y.Z),e.Y36(d.uU),e.Y36(e.sBO),e.Y36(c.so),e.Y36(c.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-active-borrows"]],features:[e._Bn([d.uU])],decls:21,vars:3,consts:[[1,"container","p-4","mat-dialog-content"],[1,"container"],[1,"nav","nav-underline"],[1,"nav-item"],[1,"nav-link","active"],[1,"table","table-striped","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","ms-3",3,"click"],[3,"userId","bookId","bookReturned"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",0)(2,"div",1)(3,"ul",2)(4,"li",3)(5,"a",4),e._uU(6),e.qZA()()(),e._UZ(7,"hr"),e.TgZ(8,"table",5)(9,"thead",6)(10,"tr")(11,"th"),e._uU(12,"Book Title"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Borrow Date"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Action"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,w,7,4,"tr",7),e.qZA()(),e.TgZ(19,"button",8),e.NdJ("click",function(){return r.onCancelClick()}),e._uU(20,"Return to users list"),e.qZA()()()()),2&t&&(e.xp6(6),e.AsE("Active Borrows for ",r.userFirstname," ",r.userLastname,""),e.xp6(12),e.Q6J("ngForOf",r.activeBorrows))},dependencies:[d.sg,T.E],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height:95vh;overflow-y:auto}"]}),s})();function k(s,i){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&s){const t=i.$implicit;e.xp6(2),e.Oqu(t.bookTitle),e.xp6(2),e.Oqu(t.borrow.borrowDate),e.xp6(2),e.Oqu(t.borrow.returnDate)}}let q=(()=>{class s{constructor(t,r,o,n,u,_,m){this.borrowService=t,this.userService=r,this.bookService=o,this.datePipe=n,this.cdr=u,this.dialogRef=_,this.data=m,this.borrows=[],this.bookDetailsArray=[],this.borrowsHistory=[]}ngOnInit(){this.userId=this.data.userId,this.loadUserDetails(),this.loadBorrowsHistoryByUser()}loadUserDetails(){void 0!==this.userId&&this.userService.getUserById(this.userId).subscribe(t=>{this.userFirstName=t.firstname,this.userLastName=t.lastname})}loadBorrowsHistoryByUser(){void 0!==this.userId&&this.borrowService.getBorrowsHistoryByUserId(this.userId).subscribe(t=>{console.log("Borrows:",t),this.borrows=[],this.borrowsHistory=[],this.cdr.detectChanges(),this.borrows=t;let r=t.map(o=>this.bookService.getBookById(o.id.bookId));(0,Z.D)(r).subscribe(o=>{this.bookDetailsArray=o,this.borrowsHistory=[...this.borrows.map((n,u)=>({borrow:{...n,borrowDate:this.datePipe.transform(n.borrowDate,"dd/MM/yyyy")||n.borrowDate,returnDate:this.datePipe.transform(n.returnDate,"dd/MM/yyyy")||n.returnDate},bookTitle:this.bookDetailsArray[u]?.title||"Unknown title"}))],0===this.borrowsHistory.length&&(console.log("Redirecting because borrows history is empty"),this.dialogRef.close())})})}onCancelClick(){this.dialogRef.close()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(b.c),e.Y36(p.K),e.Y36(y.Z),e.Y36(d.uU),e.Y36(e.sBO),e.Y36(c.so),e.Y36(c.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-borrows-history"]],decls:20,vars:3,consts:[[1,"container","p-4","mat-dialog-content"],[1,"container"],[1,"nav","nav-underline"],[1,"nav-item"],[1,"nav-link","active"],[1,"table","table-striped","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","ms-3",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),e._uU(5),e.qZA()()(),e._UZ(6,"hr"),e.TgZ(7,"table",5)(8,"thead",6)(9,"tr")(10,"th"),e._uU(11,"Book Title"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Borrow Date"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Return Date"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,k,7,3,"tr",7),e.qZA()(),e.TgZ(18,"button",8),e.NdJ("click",function(){return r.onCancelClick()}),e._uU(19,"Return to users list"),e.qZA()()()),2&t&&(e.xp6(5),e.AsE("Borrows history for ",r.userFirstName," ",r.userLastName,""),e.xp6(12),e.Q6J("ngForOf",r.borrowsHistory))},dependencies:[d.sg]}),s})();var I=l(68);let x=(()=>{class s{constructor(t,r){this.userService=t,this.snackBar=r,this.onDeleted=new e.vpe}deleteUser(){this.userService.deleteUser(this.userId).subscribe(()=>{console.log("Delete button clicked"),this.snackBar.open("User deleted successfully!","",{duration:4e3}),this.onDeleted.emit()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.K),e.Y36(g.ux))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-delete"]],inputs:{userId:"userId"},outputs:{onDeleted:"onDeleted"},decls:2,vars:0,consts:[[1,"btn","btn-outline-danger","btn-sm","mx-1",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.deleteUser()}),e._uU(1,"Delete"),e.qZA())}}),s})(),B=(()=>{class s{constructor(t){this.userService=t,this.userFound=new e.vpe,this.phone="",this.user=null}ngOnInit(){}search(){this.userService.getUserByPhone(this.phone).subscribe(t=>this.userFound.emit(t),t=>console.error("Error fetching user by phone:",t))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-search-by-phone"]],outputs:{userFound:"userFound"},decls:4,vars:1,consts:[[1,"input-group"],["type","text","placeholder","Search by phone","aria-label","Example text with button addon","aria-describedby","button-addon1",3,"ngModel","ngModelChange","keyup.enter"],["type","button","id","button-addon1",1,"btn","btn-outline-success",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("ngModelChange",function(n){return r.phone=n})("keyup.enter",function(){return r.search()}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return r.search()}),e._uU(3,"Search"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngModel",r.phone))},dependencies:[a.Fj,a.JJ,a.On]}),s})();function F(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openActiveBorrowsDialog(o.searchedUser.userId))}),e._uU(1," Active borrows "),e.qZA()}}function D(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"table",9)(2,"thead",10)(3,"tr")(4,"th"),e._uU(5,"Firstname"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Lastname"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Phone"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Action"),e.qZA()()(),e.TgZ(14,"tbody")(15,"tr")(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td")(25,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openUpdateDialog(o.searchedUser.userId))}),e._uU(26,"Update"),e.qZA(),e.TgZ(27,"app-user-delete",12),e.NdJ("onDeleted",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getAllUsersWithPagination(0))}),e.qZA(),e.YNc(28,F,2,0,"button",13),e.qZA()()()(),e.TgZ(29,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.backToUsersList())}),e.O4$(),e.TgZ(30,"svg",15),e._UZ(31,"path",16),e.qZA(),e._uU(32," Back to Users List"),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(17),e.Oqu(t.searchedUser.firstname),e.xp6(2),e.Oqu(t.searchedUser.lastname),e.xp6(2),e.Oqu(t.searchedUser.email),e.xp6(2),e.Oqu(t.searchedUser.phone),e.xp6(4),e.Q6J("userId",t.searchedUser.userId),e.xp6(1),e.Q6J("ngIf",t.searchedUser.activeBorrowCount>0)}}function N(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.openActiveBorrowsDialog(o.userId))}),e._uU(1," Active borrows "),e.qZA()}}function S(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",11),e.NdJ("click",function(){const n=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.openUpdateDialog(n.userId))}),e._uU(11,"Update"),e.qZA(),e.TgZ(12,"app-user-delete",12),e.NdJ("onDeleted",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getAllUsersWithPagination(0))}),e.qZA(),e.TgZ(13,"button",25),e.NdJ("click",function(){const n=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.openBorrowsHistoryDialog(n.userId))}),e._uU(14," Borrows History "),e.qZA(),e.YNc(15,N,2,0,"button",13),e.qZA()()}if(2&s){const t=i.$implicit;e.xp6(2),e.Oqu(t.firstname),e.xp6(2),e.Oqu(t.lastname),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(4),e.Q6J("userId",t.userId),e.xp6(3),e.Q6J("ngIf",t.activeBorrowCount>0)}}function J(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"li",22)(1,"a",23),e.NdJ("click",function(){const n=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.onPageChange(n))}),e._uU(2),e.qZA()()}if(2&s){const t=i.$implicit,r=e.oxw(2);e.ekj("active",t===r.currentPage),e.xp6(2),e.Oqu(t+1)}}function P(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"table",18)(2,"thead",10)(3,"tr")(4,"th"),e._uU(5,"Firstname"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Lastname"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Phone"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Action"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,S,16,6,"tr",19),e.qZA()(),e.TgZ(16,"nav",20)(17,"ul",21)(18,"li",22)(19,"a",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onPageChange(o.currentPage-1))}),e._uU(20,"Previous"),e.qZA()(),e.YNc(21,J,3,3,"li",24),e.TgZ(22,"li",22)(23,"a",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onPageChange(o.currentPage+1))}),e._uU(24,"Next"),e.qZA()()()()()}if(2&s){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.users),e.xp6(3),e.ekj("disabled",0===t.currentPage),e.xp6(3),e.Q6J("ngForOf",t.pageNumbers),e.xp6(1),e.ekj("disabled",t.currentPage===t.totalUsers/t.pageSize-1)}}let Y=(()=>{class s{constructor(t,r,o){this.userService=t,this.dialog=r,this.cdRef=o,this.users=[],this.totalUsers=0,this.pageSize=10,this.currentPage=0,this.pageNumbers=[],this.searchedUser=null}ngOnInit(){this.getAllUsersWithPagination(this.currentPage),this.cdRef.detectChanges()}getAllUsers(){this.userService.getAllUsers().subscribe(t=>{this.users=t})}getAllUsersWithPagination(t){this.userService.getAllUsersWithPagination(t,this.pageSize).subscribe({next:r=>{this.users=r.content.map(o=>({...o,activeBorrowCount:o.borrows.filter(n=>!n.returned).length})),this.totalUsers=r.totalElements,this.pageNumbers=Array.from({length:r.totalPages},(o,n)=>n),console.log(this.users)},error:r=>{console.error("Error fetching users:",r)}})}openUpdateDialog(t){this.dialog.open(U,{minWidth:"50%",autoFocus:!1,data:{userId:t}}).afterClosed().subscribe(o=>{this.getAllUsersWithPagination(0)})}openCreateDialog(){this.dialog.open(v,{minWidth:"50%",autoFocus:!1,data:{userId:null}}).afterClosed().subscribe(r=>{this.getAllUsersWithPagination(0)})}openActiveBorrowsDialog(t){this.dialog.open(C,{minWidth:"50%",autoFocus:!1,data:{userId:t}}).afterClosed().subscribe(o=>{this.getAllUsersWithPagination(0)})}openBorrowsHistoryDialog(t){this.dialog.open(q,{minWidth:"50%",autoFocus:!1,data:{userId:t}})}onPageChange(t){t>=0&&t<this.pageNumbers.length&&(this.currentPage=t,this.getAllUsersWithPagination(t))}displaySearchedUser(t){this.searchedUser=t}backToUsersList(){this.searchedUser=null}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.K),e.Y36(c.uw),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users-list"]],decls:15,vars:2,consts:[[1,"container"],[1,"nav","nav-tabs"],[1,"nav-item","display-6"],[1,"nav-link","active"],[1,"d-flex","mb-3"],[1,"btn","btn-success","mb-3",3,"click"],[1,"ms-auto"],[3,"userFound"],[4,"ngIf"],[1,"table","table-striped","table-hover","my-4"],[1,"table-dark"],[1,"btn","btn-outline-warning","btn-sm","mx-1",3,"click"],[3,"userId","onDeleted"],["class","btn btn-outline-primary btn-sm mx-1",3,"click",4,"ngIf"],[1,"btn","btn-secondary","mb-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"btn","btn-outline-primary","btn-sm","mx-1",3,"click"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["aria-label","User pagination",1,"mt-3"],[1,"pagination","justify-content-center"],[1,"page-item"],["href","javascript:void(0)",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","mx-1",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Users"),e.qZA()()(),e._UZ(5,"br")(6,"app-statistics")(7,"hr"),e.TgZ(8,"div",4)(9,"button",5),e.NdJ("click",function(){return r.openCreateDialog()}),e._uU(10,"Add New User"),e.qZA(),e.TgZ(11,"div",6)(12,"app-user-search-by-phone",7),e.NdJ("userFound",function(n){return r.displaySearchedUser(n)}),e.qZA()()(),e.YNc(13,D,33,6,"div",8),e.YNc(14,P,25,6,"div",8),e.qZA()),2&t&&(e.xp6(13),e.Q6J("ngIf",r.searchedUser),e.xp6(1),e.Q6J("ngIf",!r.searchedUser))},dependencies:[d.sg,d.O5,I.B,x,B]}),s})();var O=l(1396),L=l(5605);const M=[{path:"",redirectTo:"users-list",pathMatch:"full"},{path:"users-list",component:Y},{path:"create-user",component:v},{path:"update-user/:userId",component:U},{path:"users-list/:userId/active-borrows",component:C}];let H=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[p.K,b.c],imports:[d.ez,A.JF,h.Bz.forChild(M),a.UX,g.ZX,c.Is,O.BorrowModule,a.u5,L.p,h.Bz]}),s})()}}]);